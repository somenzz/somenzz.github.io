(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{795:function(_,t,a){"use strict";a.r(t);var s=a(7),v=Object(s.a)({},(function(){var _=this,t=_.$createElement,a=_._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[a("p",[_._v("你好，我是 somenzz，可以叫我征哥，今天看到了一个很好的面试问题，分享给你。")]),_._v(" "),a("p",[_._v("我认为好的面试题，至少符合亮点，一是开放性问题，没有标准答案，而是它与具体的技术栈和经验都无关，却能看出一个人的思维过程和技术水平。")]),_._v(" "),a("p",[_._v("“你为什么无法创建一个文件”，就是好问题，而“如何在 NodeJS 中执行 XYZ”或“如何配置 NGINX”，就不是一个好问题。")]),_._v(" "),a("p",[_._v("现在，来梳理一下这个问题。")]),_._v(" "),a("p",[_._v("首先这是一个好问题，好问题没有标准答案，下面的回答也仅供参考。")]),_._v(" "),a("h3",{attrs:{id:"_1、磁盘空间不足"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、磁盘空间不足"}},[_._v("#")]),_._v(" 1、磁盘空间不足")]),_._v(" "),a("p",[_._v("这可能是最简单的答案之一，文件需要保存在磁盘上，无论服务器室 Windows 还是 Linux，无论是本地创建还是远程创建，只要磁盘空间不足，那一定是无法写入文件的。问题的表现通常会看到关键字「Insufficient disk space」排除这个原因很简单，查看磁盘空间即可：")]),_._v(" "),a("p",[_._v("Windows: "),a("code",[_._v("Wmic logicaldisk")])]),_._v(" "),a("p",[_._v("Linux: "),a("code",[_._v("df -h")])]),_._v(" "),a("h3",{attrs:{id:"_2、权限问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、权限问题"}},[_._v("#")]),_._v(" 2、权限问题")]),_._v(" "),a("p",[_._v("最常见的是 Linux 普通用户在不属于自己家的目录下创建文件会报错，这就是权限问题，Linux 运行一个简单的"),a("code",[_._v("ls -l")]),_._v(" 可以看到文件/目录的权限。")]),_._v(" "),a("p",[_._v("ftp、sftp 服务器也会有权限管理，如果无法解决，需要查看服务器的权限配置。")]),_._v(" "),a("p",[_._v("问题的表现通常会有关键字「permission」。")]),_._v(" "),a("p",[_._v("解决办法，配置权限，不建议粗暴的 "),a("code",[_._v("sudo chmod 777")]),_._v("。")]),_._v(" "),a("h3",{attrs:{id:"_3、cpu、内存资源耗尽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、cpu、内存资源耗尽"}},[_._v("#")]),_._v(" 3、CPU、内存资源耗尽")]),_._v(" "),a("p",[_._v("每个命令通常都会在自己的进程中执行。每个进程都必须有一些资源，并使用一定级别的 CPU 和内存。创建文件同样消耗 CPU 和内存，资源不足时，创建文件的进程长时间处于等待状态，此时也是无法创建文件的，这种情况的现象是卡住，而不是报错。")]),_._v(" "),a("h3",{attrs:{id:"_4、分区问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、分区问题"}},[_._v("#")]),_._v(" 4、分区问题")]),_._v(" "),a("p",[_._v("分区之后未格式化，或者分区配置错误，此时也是无法写入文件的。")]),_._v(" "),a("h3",{attrs:{id:"_5、网络问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、网络问题"}},[_._v("#")]),_._v(" 5、网络问题")]),_._v(" "),a("p",[_._v("如果文件系统依赖于网络，网络可能导致服务器之间断开连接，此时也无法写入文件，此外诸如防火墙、安全组、NACL、子网问题，也可能导致写入或读取文件的问题。")]),_._v(" "),a("h3",{attrs:{id:"_6、linux-pid-耗尽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、linux-pid-耗尽"}},[_._v("#")]),_._v(" 6、Linux PID 耗尽")]),_._v(" "),a("p",[_._v("一个操作系统的进行数量是有限的，PID 就是 process id，耗尽就表示进程太多了，无法创建新的进程。我曾经就写了一个 shell 脚本，因为文件名的问题，导致了自己执行自己，结果很快 PID 就不足了，操作系统不接受任何新的操作。")]),_._v(" "),a("h3",{attrs:{id:"_7、linux-inode-耗尽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、linux-inode-耗尽"}},[_._v("#")]),_._v(" 7、Linux Inode 耗尽")]),_._v(" "),a("p",[_._v("一个操作系统的文件数量也是有限的，超过了最大的文件数量，就无法再创建文件。Inode 存储了一个文件或目录的元数据，Inode 的数量很难耗尽，但并不意味着不可能。Linux 运行 "),a("code",[_._v("df -i")]),_._v(" 可以查看创建的最大 Inode 数量、当前使用的 Inode 数量和剩余 Inode 的数量。")]),_._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/e6c9d24egy1h1q8tlz6baj21700cktbh.jpg",alt:""}})]),_._v(" "),a("h3",{attrs:{id:"_8、断电"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、断电"}},[_._v("#")]),_._v(" 8、断电")]),_._v(" "),a("p",[_._v("这个原因在自己的台式电脑上也不是没有出现过，哈哈。")]),_._v(" "),a("h2",{attrs:{id:"最后的话"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最后的话"}},[_._v("#")]),_._v(" 最后的话")]),_._v(" "),a("p",[_._v("本文分享了一个好的面试题，希望带给你更多的思考，如果有收获，还请点赞、在看、评论。感谢你的支持。")])])}),[],!1,null,null,null);t.default=v.exports}}]);