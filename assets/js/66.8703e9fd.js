(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{643:function(t,s,n){"use strict";n.r(s);var a=n(7),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("å®Œç¾çš„ä¸–ç•Œæ˜¯æ²¡æœ‰ä¹±ç çš„ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ä¸–ç•Œæ˜¯ä¸å®Œç¾çš„ï¼Œä¹±ç é—®é¢˜ï¼Œä½ æ€»æœ‰ä¸€å¤©ä¼šé‡åˆ°ã€‚")]),t._v(" "),n("p",[t._v("ä¹‹å‰è§£å†³äº†ä¸€ä¸ª Python çš„ UnicodeEncodeError é—®é¢˜ï¼Œæ¯”è¾ƒå…·æœ‰ä»£è¡¨æ€§ï¼Œç‰¹æ­¤åˆ†äº«ä¸€ä¸‹ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°é‡åˆ°æ­¤ç±»é—®é¢˜çš„æœ‹å‹ã€‚")]),t._v(" "),n("p",[t._v("é€šå¸¸æƒ…å†µä¸‹ï¼ŒLinux é»˜è®¤ä½¿ç”¨çš„å­—ç¬¦ç¼–ç æ˜¯ utf-8ï¼Œwindows æ˜¯ gbkï¼Œä¸è·¨æ“ä½œç³»ç»Ÿçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æŒ‰æ­¤ç¼–ç å­˜å–æ•°æ®ï¼Œæ–‡ä»¶å’Œæ–‡ä»¶åå‡ä¸ä¼šå‡ºç°ä¹±ç é—®é¢˜ã€‚")]),t._v(" "),n("p",[t._v("ä½†ç°å®å°±æ˜¯è¦è·¨ç³»ç»Ÿä¼ è¾“æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶åéƒ½æ˜¯è‹±æ–‡ï¼Œä¹Ÿä¸ä¼šå‡ºç°ä¹±ç é—®é¢˜ï¼Œå› ä¸ºè‹±æ–‡éƒ½æ˜¯ ascii ç¼–ç ï¼Œè€Œæ‰€æœ‰çš„ç¼–ç éƒ½æ˜¯åŒ…å« ascii ç çš„ï¼Œè°è®©äººå®¶å…ˆå‘æ˜äº†è®¡ç®—æœºå‘¢ã€‚")]),t._v(" "),n("p",[t._v("ç„¶è€Œï¼Œç°å®å°±æ˜¯éœ€è¦è·¨ç³»ç»Ÿä¼ è¾“ä¸­æ–‡åç§°çš„æ–‡ä»¶ã€‚")]),t._v(" "),n("h2",{attrs:{id:"ä¿®æ”¹æ–‡ä»¶åçš„ç¼–ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹æ–‡ä»¶åçš„ç¼–ç "}},[t._v("#")]),t._v(" ä¿®æ”¹æ–‡ä»¶åçš„ç¼–ç ")]),t._v(" "),n("p",[t._v("ä¹±ç çš„åŸå› å°±æ˜¯ç¼–ç ä¸ä¸€æ ·ï¼Œæ¯”å¦‚è¯´ Linux ä¸€ä¸ªä¸­æ–‡åç§°çš„æ–‡ä»¶ï¼Œâ€œä¸­æ–‡.txt\"ï¼Œå®é™…ä¸Šä¿å­˜åœ¨ç£ç›˜ä¸Šæ—¶ï¼Œå¯¹å…¶åšäº† utf-8 çš„ç¼–ç ï¼Œä¿å­˜çš„å°±æ˜¯å­—èŠ‚ï¼š \"ä¸­æ–‡.txt\".encode('utf-8')ï¼Œè¿™æ®µå­—èŠ‚ç ä¼ è¾“åˆ° Windows æœºå™¨ä¸Šæ—¶ä¸ä¼šæ”¹å˜ï¼Œå½“ä½ æ‰“å¼€ç›®å½•æŸ¥çœ‹æ—¶ï¼ŒWindows ä¼šæŒ‰ç…§ gbk è¿›è¡Œè§£ç ï¼Œå°±æ˜¯ \"ä¸­æ–‡.txt\".encode('utf-8').decode('gbk')ï¼Œç¼–ç å’Œè§£ç ç”¨åˆ°çš„å­—ç¬¦é›†ä¸ä¸€æ ·ï¼Œè‡ªç„¶ä¼šä¹±ç ã€‚")]),t._v(" "),n("p",[t._v("è§£å†³åŠæ³•å°±æ˜¯ä¿å­˜æ–‡ä»¶æ—¶ï¼Œä¿®æ”¹æ–‡ä»¶åçš„ç¼–ç ï¼Œæ€ä¹ˆä¿®æ”¹ï¼Ÿ")]),t._v(" "),n("p",[t._v("å…ˆæ¥çœ‹ä¸‹ Python å†…å»ºçš„ open å‡½æ•°ç­¾åï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gunw55u0xnj61be0daq4u02.jpg",alt:""}})]),t._v(" "),n("p",[t._v("è¿™é‡Œçš„ encoding å‚æ•°æ˜¯æŒ‡å®šæ–‡ä»¶å†…å®¹çš„å­—ç¬¦ç¼–ç ï¼Œè€Œä¸æ˜¯æ–‡ä»¶åçš„ç¼–ç ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…³æ³¨ file è¿™ä¸ªå‚æ•°ï¼Œfile æ˜¯ä¸€ä¸ªåƒè·¯å¾„ä¸€æ ·çš„å¯¹è±¡ï¼Œç‚¹å‡» "),n("code",[t._v("path-like object")]),t._v(" å¯ä»¥çœ‹åˆ°è¯´æ˜ï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gunw7npkwzj61bs0a2n0402.jpg",alt:""}})]),t._v(" "),n("p",[t._v("ä¹Ÿå°±æ˜¯è¯´ï¼Œfile å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å­—èŠ‚ä¸²ï¼Œé‚£å°±å¥½åŠäº†ï¼Œå‡å¦‚è¦åœ¨ Linux ç¯å¢ƒä¿å­˜ä¸€ä¸ªæ–‡ä»¶åæ˜¯ gbk ç¼–ç çš„æ–‡ä»¶ï¼Œå¯ä»¥è¿™æ ·åšï¼š")]),t._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[t._v("file_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä¸­æ–‡.txt"')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gbk'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"w"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("encoding "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'your file content encoding'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# do something")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("p",[t._v("è¿™ä¸ªæ–‡ä»¶åœ¨ Linux ä¸‹çš„æ–‡ä»¶åçœ‹èµ·æ¥æ˜¯ä¹±ç ï¼Œä½†ä¼ è¾“åˆ° Windows å°±æ˜¯æ­£å¸¸æ˜¾ç¤ºçš„ã€‚")]),t._v(" "),n("h2",{attrs:{id:"ftplib-ä¼ è¾“çš„ç¼–ç é—®é¢˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ftplib-ä¼ è¾“çš„ç¼–ç é—®é¢˜"}},[t._v("#")]),t._v(" ftplib ä¼ è¾“çš„ç¼–ç é—®é¢˜")]),t._v(" "),n("p",[t._v("æˆ‘åœ¨æ•°ä»“åšæ•°æ®äº¤æ¢çš„æ—¶å€™ï¼Œé€šå¸¸è¦ Linux å’Œ Windows äº’ç›¸ä¼ æ–‡ä»¶ï¼Œä¸ºæ­¤ä¸“é—¨å†™è¿‡ä¸€ä¸ªé€šç”¨çš„ä¼ è¾“æ–‡ä»¶åº“ "),n("a",{attrs:{href:"https://pypi.org/project/transferfile/",target:"_blank",rel:"noopener noreferrer"}},[t._v("transferfile"),n("OutboundLink")],1),t._v("ï¼Œå°±é‡åˆ°äº†ä¸¤ä¸ªç¼–ç é—®é¢˜ï¼š")]),t._v(" "),n("p",[t._v("1ã€Linux å‘ Windows ä¼ è¾“çš„æ–‡ä»¶ä¸­æ–‡ä¹±ç ã€‚")]),t._v(" "),n("p",[t._v("è§£å†³æ–¹æ³•ï¼šftplib è€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹ï¼Œåœ¨ ftplib.FTP åˆå§‹åŒ–åå¯ä»¥ä¼ å…¥ encoding å‚æ•°ï¼Œæ¥æŒ‡å®šç›®æ ‡ç³»ç»Ÿä»¥ä½•ç§ç¼–ç ä¿å­˜æ–‡ä»¶åç§°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gunwqjkw7nj61880gkn0502.jpg",alt:""}})]),t._v(" "),n("p",[t._v("2ã€Windows ä¸‹æœ‰ä¹±ç è·¯å¾„æ—¶æ— æ³•åœ¨ Windows é‡Œé¢é€’å½’çš„åˆ›å»ºç›®æ ‡è·¯å¾„ã€‚")]),t._v(" "),n("p",[t._v("ä¼ è¾“æ–‡ä»¶æ—¶å¯ä»¥æŒ‡å®šç›®æ ‡è·¯å¾„ï¼Œè·¯å¾„ä¸å­˜åœ¨æ—¶éœ€è¦é€’å½’åˆ›å»ºï¼Œä»¥ä¾¿å­˜æ”¾ä¸Šä¼ çš„æ–‡ä»¶ï¼Œftplib æœ¬èº«åªèƒ½åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œéœ€è¦è‡ªè¡Œå†™é€’å½’åˆ›å»ºï¼Œé‚£ä¹ˆåˆ›å»ºä¹‹å‰å°±è¦å…ˆåˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œè¿™å°±éœ€è¦ç”¨åˆ° ftp.retrlines('LIST')ï¼Œèƒ½åˆ—å‡ºæ¥çš„å°±æ˜¯å­˜åœ¨çš„ã€‚")]),t._v(" "),n("p",[t._v("å¦‚æœç›®å½•å†…æ²¡æœ‰ä¹±ç æ–‡ä»¶ï¼Œä¹Ÿä¸ä¼šæœ‰é—®é¢˜ï¼Œæœ‰å°±ä¼šæŠ¥ UnicodeEncodeErrorï¼Œå¦‚ä¸‹å›¾ï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gunwsuc052j60m8036q3002.jpg",alt:""}})]),t._v(" "),n("p",[t._v("æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ")]),t._v(" "),n("p",[t._v("é‚£å°±æ˜¯ä¸èƒ½è®©ä¹±ç ç›®å½•å½±å“äº†æˆ‘ä»¬çš„ä¸»ç¨‹åºï¼Œåœ¨è¯»å–åˆ—è¡¨æ—¶é‡åˆ°ä¹±ç å¿½ç•¥å³å¯ï¼ŒæŒ‰ç…§ traceback ä¿®æ”¹æ ‡å‡†åº“ ftplib æ–‡ä»¶ 471 è¡Œï¼Œä¼ å…¥å‚æ•° errors='ignore' å¦‚ä¸‹å›¾æ‰€ç¤º")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gunwu24tvfj61ao04sq3502.jpg",alt:""}})]),t._v(" "),n("p",[t._v("æ ‡å‡†åº“ä¸ºä»€ä¹ˆä¸ç›´æ¥åŠ ä¸Šå‘¢ï¼Ÿ æˆ‘çŒœæµ‹å°±æ˜¯ä¸ºäº†è®©ä½ çŸ¥é“ï¼Œè¿™é‡Œå­˜åœ¨ä¹±ç ï¼Œè¦å¿½ç•¥çš„è¯ï¼Œè‡ªå·±æå®šï¼Œæˆ‘ä¸ä¸ºä½ èƒŒé”…ï¼ŒğŸ˜„ã€‚")]),t._v(" "),n("h2",{attrs:{id:"æœ€å"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æœ€å"}},[t._v("#")]),t._v(" æœ€å")]),t._v(" "),n("p",[t._v("æœ¬æ–‡ä»‹ç»äº†ä¹±ç é—®é¢˜çš„åŸå› ï¼Œå¦‚ä½•ä¿®æ”¹æ–‡ä»¶åç§°çš„ç¼–ç ï¼Œç”¨ ftplib é‡åˆ°çš„ç¼–ç é—®é¢˜å¦‚ä½•è§£å†³ï¼Œè™½ç„¶åœºæ™¯å…·ä½“ï¼Œä½†è§£å†³çš„ä¹±ç é—®é¢˜çš„æ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£å°±æ˜¯è®©ç¼–ç è§£ç ä½¿ç”¨çš„å­—ç¬¦ç¼–ç ä¿æŒä¸€è‡´ï¼Œå¦‚æœä¹±ç ä¸å½±å“å¯ä»¥å¿½ç•¥æ‰ä¸èƒ½è§£ç çš„æ•°æ®ã€‚")]),t._v(" "),n("p",[t._v("å¦‚æœæƒ³äº†è§£å­—ç¬¦ä¸²ç¼–ç çš„åº•å±‚ç»†èŠ‚ï¼Œæ¨èé˜…è¯»å‰æ–‡"),n("a",{attrs:{href:"https://mp.weixin.qq.com/s/8g59YmbVbOTilL4bB0GlwQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python åŸºç¡€ç³»åˆ—--å­—ç¬¦ä¸²ä¸ç¼–ç "),n("OutboundLink")],1),t._v(" çš„ç¬¬äºŒèŠ‚ã€ŒäºŒã€å­—ç¬¦ä¸²ç¼–ç ã€")]),t._v(" "),n("p",[t._v("æ„Ÿè°¢é˜…è¯»ã€‚åˆæ¥æ±‚å…³æ³¨äº†ï¼Œå¦‚æœè§‰å¾—å†…å®¹è¿˜ä¸é”™ï¼Œè¯·å…³æ³¨æˆ–åœ¨çœ‹åˆ†äº«ç»™ä½ çš„æœ‹å‹ä»¬ï¼Œæ„Ÿè°¢æ”¯æŒã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);