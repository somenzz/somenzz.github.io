(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{489:function(s,a,n){s.exports=n.p+"assets/img/gzh.b9e8cbd4.jpg"},656:function(s,a,n){"use strict";n.r(a);var t=n(7),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("一个生产力工具")]),s._v(" "),t("p",[s._v("如果你是一个程序员，无论前端还是后端，无论业余还是专业，你可能都会遇到这样一个问题：你需要一边写代码，一边运行程序，方便查看代码产生的效果。")]),s._v(" "),t("p",[s._v("举个例子吧，当你写了一部分 Django views，你会开启一个终端运行 Django")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("cd myapp"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rear_end"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\nsource env"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bin")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("activate\npython manage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py runserver\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("然后你又写了几个前端页面，你要启动 npm")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("cd myapp"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("front_end"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\nnpm run dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("现在突然报了个错，提升你 xxx 包没有安装，于是你又开启了一个终端，运行了 pip")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" env/bin/activate\npip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" xxx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("也许你还需要再开启一个终端，来管理 npm 的包。")]),s._v(" "),t("p",[s._v("然后你就在这些个终端里面切换来切换去，不知道怎么搞得，电脑卡了下，你一怒之下用快捷键退出了好几个应用程序，其中就包括你开启的几个终端。")]),s._v(" "),t("p",[s._v("然后你的程序崩溃了。")]),s._v(" "),t("p",[s._v("你也崩溃了，编程太艰难了，现在你不得不手动一个一个启动这些终端，然后在敲入相应的指令。即使你的电脑不卡，也许会关机，再开机，仍然需要做这些步骤。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gveg1ww1xdg606y058e8302.gif",alt:""}})]),s._v(" "),t("p",[s._v("现在是时候寻找更好的办法了。")]),s._v(" "),t("p",[s._v("也许你知道 "),t("strong",[s._v("tmux")]),s._v(" ("),t("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2019/10/tmux.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("tmux教程"),t("OutboundLink")],1),s._v(") 可以对一个终端进行分屏，每个屏里面是一个独立的 terminal session，可以分别执行不同的命令，让我们在同一个窗口看到不同任务的执行情况，比如像这样：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gveg64foq8g60p00e24qq02.gif",alt:""}})]),s._v(" "),t("p",[s._v("这样虽然解决了不同终端来回切换的问题，但还有一个问题没解决，就是如果不小心关闭了这个终端，或者电脑崩溃了，如何快速恢复运行好的状态？")]),s._v(" "),t("p",[s._v("这就需要 tmuxinator 了，先看下效果图：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gvegc2qz8wg60p00e24qq02.gif",alt:""}})]),s._v(" "),t("p",[s._v("tmuxinator 是一个处理 tmux 配置的完美工具，自动化开发环境从未如此简单。现在让我们看下如何使用。")]),s._v(" "),t("p",[s._v("1、先安装 tmuxinator。")]),s._v(" "),t("p",[s._v("当然了，安装前确保你已经安装了 tmux，可以看这个"),t("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2019/10/tmux.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("tmux教程"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("gem "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" tmuxinator\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("注：")]),s._v(" "),t("ul",[t("li",[s._v("gem 是 Ruby 的一个包管理器，安装完 Ruby，你就有了 gem 工具，正如安装完 Python，你就有了 pip 工具。")]),s._v(" "),t("li")]),s._v(" "),t("p",[s._v("2、在项目目录生成一个配置文件")]),s._v(" "),t("p",[s._v("假如项目叫 dream，然后在终端执行")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("tmuxinator new dream \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("会生成文件 "),t("code",[s._v("~/.config/tmuxinator/dream.yml")])]),s._v(" "),t("p",[s._v("修改这个文件，加入自己执行的命令，如下所示：")]),s._v(" "),t("div",{staticClass:"language-config line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("name: dream\nroot: ~/dev/mtg-dreamland\n\nwindows:\n  - main:\n      layout: even-horizontal\n      panes:\n        - client:\n            - cd client\n            - git status\n            - ls\n        - server:\n            - cd server\n            - git status\n            - ls\n  - build:\n      layout: even-horizontal\n      panes:\n        - client:\n            - cd client\n            - npm start\n        - server:\n            - cd server\n            - nodemon server.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("p",[s._v("这个配置文件定义了 2 个窗口：“main”和“build”。 在每一个中，有 2 个窗格“客户端”和“服务器”。 然后只需定义我想在启动时在每个窗格中运行的命令，我们就完成了！")]),s._v(" "),t("p",[s._v("然后执行 "),t("code",[s._v("tmuxinator start dream")]),s._v("，就可以看到所有的命令都会按照你的编排进行执行，实现了开发环境的自动化，如下：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gvegyk4ypxg61ha0r978002.gif",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"最后"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[s._v("#")]),s._v(" 最后")]),s._v(" "),t("p",[s._v("这只是 tmuxinator 的简单应用，如果要想了解它更多的能力，可以去"),t("a",{attrs:{href:"https://github.com/tmuxinator/tmuxinator#windows",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方 GitHub"),t("OutboundLink")],1),s._v(" 看下。")]),s._v(" "),t("p",[s._v("如果有帮助，求关注。")]),s._v(" "),t("p",[t("img",{attrs:{src:n(489),alt:""}})])])}),[],!1,null,null,null);a.default=e.exports}}]);