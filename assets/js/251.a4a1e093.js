(window.webpackJsonp=window.webpackJsonp||[]).push([[251],{830:function(a,t,s){"use strict";s.r(t);var e=s(7),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("最近在用 Pandas 读取 csv 进行数据分析，好在数据量不是很大，频率不是很高，使用起来得心用手，不得不说真的很方便。不过当数据量很大，你就要考虑读写的性能了，可以看下这个库，留下印象，以备不时之需。")]),a._v(" "),s("p",[a._v("Pandas 有两个竞争对手，一个是 "),s("a",{attrs:{href:"https://www.dask.org/get-started",target:"_blank",rel:"noopener noreferrer"}},[a._v("Dask"),s("OutboundLink")],1),a._v(" 另一个是 "),s("a",{attrs:{href:"https://datatable.readthedocs.io/en/latest/",target:"_blank",rel:"noopener noreferrer"}},[a._v("DataTable"),s("OutboundLink")],1),a._v("，不过 Pandas 太牛逼了，其他两个库都提供了与 Pandas 的 DataFrame 相互转换的方法。")]),a._v(" "),s("p",[a._v("它们都可以用来读写 Excel")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/e6c9d24egy1h37dxpabo5j20l80r20ua.jpg",alt:""}})]),a._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/e6c9d24egy1h37dy210hnj20pm0qowg2.jpg",alt:""}})]),a._v(" "),s("p",[a._v("有网友对此做了"),s("a",{attrs:{href:""}},[a._v("读写性能测试")]),a._v("，先生成随机数据集，其中包含可变行和三十列——包括字符串、浮点数和整数数据类型。每个测试重复了五次，取其平均值。CSV 的行数从 10 万到 500 万不等。")]),a._v(" "),s("p",[a._v("下面是测试结果:")]),a._v(" "),s("h3",{attrs:{id:"读取-csv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#读取-csv"}},[a._v("#")]),a._v(" 读取 csv")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/e6c9d24egy1h37e1y2ehpj20jm0fzt9b.jpg",alt:""}})]),a._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/e6c9d24egy1h37e42vxk2j20jm0fzmxn.jpg",alt:""}})]),a._v(" "),s("p",[a._v("当行数少于一百万时，Dask 和 Pandas 从 CSV 生成 Pandas DataFrame 的时间大致相同。")]),a._v(" "),s("p",[a._v("但是，当我们超过一百万行时，Dask 的性能会变差，生成 Pandas DataFrame 所花费的时间要比 Pandas 本身多得多。")]),a._v(" "),s("p",[a._v("在这两种情况下，Datatable 在 Pandas 中生成 DataFrame 所需的时间最少，提供高达 4 到 5 倍的加速。")]),a._v(" "),s("h3",{attrs:{id:"写入-csv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写入-csv"}},[a._v("#")]),a._v(" 写入 csv")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/e6c9d24egy1h37e4dsnppj20m40fz3z9.jpg",alt:""}})]),a._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/e6c9d24egy1h37e4jxbikj20m40fzgm4.jpg",alt:""}})]),a._v(" "),s("p",[a._v("Dask 在将 Pandas DataFrame 存储到 CSV 方面的表现都比 Pandas 差。\n而 DataTable 表现最好，比 Pandas 提高了近 8 倍。")]),a._v(" "),s("h2",{attrs:{id:"最后的话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最后的话"}},[a._v("#")]),a._v(" 最后的话")]),a._v(" "),s("p",[a._v("当数据量大时，用 DataTable。如果觉得有帮助，还请点个在看。")])])}),[],!1,null,null,null);t.default=r.exports}}]);