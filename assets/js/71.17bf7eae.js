(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{440:function(_,v,i){"use strict";i.r(v);var t=i(4),e=Object(t.a)({},(function(){var _=this,v=_.$createElement,i=_._self._c||v;return i("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[i("p",[_._v("这里的静态博客，指的是需要先编译成静态资源，比如 html、js、css，然后推送到服务器进行部署的博客，最常见的就是 GitHub Pages、Gitee Pages、当然还有自购服务器进行部署的。")]),_._v(" "),i("p",[_._v("一般这类博客部署的流程是：")]),_._v(" "),i("ol",[i("li",[_._v("写一篇 markdown 文章。")]),_._v(" "),i("li",[_._v("执行命令生成静态文件，比如 "),i("code",[_._v("npm run build")]),_._v("。")]),_._v(" "),i("li",[_._v("将静态文件推送到博客仓库，或者服务器，如果是 Gitee，还要手工点击下重新部署按钮。")]),_._v(" "),i("li",[_._v("访问网址验证是否成功")]),_._v(" "),i("li",[_._v("为了备份你的博客，你可能要将你写博客的项目也提交到仓库。")])]),_._v(" "),i("p",[_._v("博客就是用来写文章的，每次写篇文章还要搞那么多操作，每次部署都要操作很多次，时间长了你一定会觉得很累。")]),_._v(" "),i("p",[_._v("现在，当你使用了 GitHub Actions 之后，流程可以简化为：")]),_._v(" "),i("ol",[i("li",[_._v("写一篇 markdown 文章。")]),_._v(" "),i("li",[_._v("提交到 GitHub，相当于上面的第 5 步。")])]),_._v(" "),i("p",[_._v("结束了，是不是很方便？")]),_._v(" "),i("p",[_._v("从机械的流程中解脱，专注于写作。那么开始打造我们的 GitHub Actions 吧。")]),_._v(" "),i("p",[_._v("假如有以下四个仓库：")]),_._v(" "),i("ol",[i("li",[_._v("github/somenzz/push_blog：写博客的项目仓库，里面有用于生成博客的 md 文件，和生成静态博客的脚手架，比如 VuePress，hexo 等，该仓库可以私有。")]),_._v(" "),i("li",[_._v("github/somenzz/somenzz.github.io：存放博客的静态资源文件，用于 GitHub Pages 展示博客。")]),_._v(" "),i("li",[_._v("gitee/somenzz/somenzz：存放博客的静态资源文件，用于 GitHub Pages 展示博客。")]),_._v(" "),i("li",[_._v("xxx.xxx.xxx.xxx: /xxxx/blog/ 自己购买的服务器，用于存放静态博客资源文件。")])]),_._v(" "),i("p",[_._v("现在的目标就是，写好一篇文章，向仓库 1 推送之后，仓库 2、3、4 自动更新静态资源文件。当然来，你也可以根据情况，仅跟新 2或仅更新 3，只需要将对应的步骤从 GitHub Actions 配置中注释或删除即可。")]),_._v(" "),i("p",[_._v("这里说下对 Github Actions 的理解，GitHub会有一台虚拟机先将你的项目 clone 过去，然后执行你定义的命令，生成静态文件，然后 push 到你指定的仓库中。这期间就涉及到一些访问权限的控制，都是写在配置文件中的。")]),_._v(" "),i("p",[_._v("现在，我们一步一步来。")]),_._v(" "),i("p",[_._v("首先在仓库 1 的根目录下，创建 "),i("code",[_._v(".github/workflows/main.yml")]),_._v(" 文件，这就是 GitHub Actions 功能的配置文件，写入以下内容")])])}),[],!1,null,null,null);v.default=e.exports}}]);